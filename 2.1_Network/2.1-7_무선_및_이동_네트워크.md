# 2.1-7 무선 및 이동 네트워크

---

## 7.1 무선 네트워크 개요

### 무선 네트워크의 구성 요소

무선 네트워크는 **무선 호스트**, **무선 링크**, **기지국**, **네트워크 인프라스트럭처**로 구성된다.

이들은 유선 네트워크의 전송 계층 위에 존재하며, 데이터의 송수신을 위한 무선 통신 환경을 형성한다.

### 무선 호스트 (Wireless Host)

- **애플리케이션을 실행하는 종단 시스템**으로, 스마트폰·태블릿·노트북·IoT 기기 등이 포함된다.
- 주로 **무선 링크**를 통해 기지국(Base Station)이나 다른 무선 호스트와 통신한다.

### 무선 링크 (Wireless Link)

- 무선 호스트를 **네트워크 인프라스트럭처 또는 다른 호스트**에 연결하는 통신 경로.
- 네트워크의 가장자리(Access Network)뿐 아니라 일부 백본 링크에서도 사용된다.
- 링크 품질은 **전송 거리, 장애물, 간섭, 전력 수준** 등에 따라 달라진다.

### 기지국 (Base Station)

- **무선 호스트와 데이터 송수신을 중재**하는 역할을 수행한다.
- 예시:
    - 셀룰러 네트워크의 **셀 타워(cell tower)**
    - Wi-Fi 네트워크의 **액세스 포인트(AP, Access Point)**
- 기지국에 **결합(association)** 된다는 것은
    1. 해당 기지국의 무선 통신 범위 내에 존재하고
    2. 기지국을 통해 네트워크와 데이터를 주고받는다는 의미이다.

### 인프라스트럭처 기반 네트워크

- 무선 호스트가 **기지국을 통해 인터넷과 연결**되는 방식.
- 주소 할당, 라우팅, DNS 등의 서비스를 기지국이 중계한다.
- Wi-Fi, LTE, 5G 등이 모두 인프라스트럭처 기반이다.

### 애드혹 네트워크 (Ad Hoc Network)

- **기지국 없이** 호스트 간에 직접 연결하는 네트워크.
- 각 호스트가 **라우팅, 주소 관리, 이름 변환** 등의 기능을 스스로 수행해야 한다.
- 예시: 군용 통신망, 재난 복구 통신망, 차량 간 통신(VANET) 등.

### 핸드오프 (Handoff, Handover)

- **이동 호스트가 한 기지국의 범위를 벗어나 다른 기지국으로 이동**할 때,
    
    네트워크 연결 지점을 변경하는 절차.
    
- 셀룰러 네트워크에서는 **핸드오버**가 자동으로 수행되어,
    
    통화나 데이터 세션이 끊기지 않도록 한다.
    

### 무선 네트워크의 분류

무선 네트워크는 다음 두 가지 기준으로 나눌 수 있다.

1. **통신 홉 수 (단일 홉 / 다중 홉)**
2. **인프라스트럭처 존재 여부 (있음 / 없음)**

**단일 홉 + 인프라스트럭처 존재**

- 유선 백본에 연결된 기지국을 중심으로 모든 통신이 **기지국–호스트 간 단일 홉**으로 이루어짐.
- 예시: Wi-Fi, LTE

**단일 홉 + 인프라스트럭처 없음**

- 기지국 없이 호스트 간 직접 연결.
- 예시: 블루투스, 근거리 무선 주변기기 네트워크

**다중 홉 + 인프라스트럭처 존재**

- 일부 노드는 다른 노드를 **중계(relay)** 하여 기지국과 통신함.
- 예시: 무선 메시 네트워크(Wireless Mesh Network), 센서 네트워크

**다중 홉 + 인프라스트럭처 없음**

- 완전한 **자율 네트워크**로, 기지국 없이 모든 노드가 서로 중계 역할을 수행.
- 예시: 이동 애드혹 네트워크(MANET, Mobile Ad Hoc Network)

---
## 7.2 무선 링크와 네트워크의 특징

### 무선 환경의 기본 특성

**신호 감쇠와 경로 손실(Path Loss)**

- 무선 신호는 **거리 증가**, **장애물(벽·건물)**, **공간 확산** 때문에 자연스럽게 약해진다.
- 이 신호 감소를 **경로 손실(path loss)** 이라고 한다.
- 거리·환경에 따라 신호 품질이 크게 달라짐 → Wi-Fi나 셀룰러 신호가 방마다 다른 이유.

**간섭(Interference)**

- 같은 주파수 대역을 쓰는 여러 송신자의 신호는 **서로 간섭**한다.
- Wi-Fi 주변 전자레인지, 블루투스 등이 간섭을 만들 수 있다.
- 그래서 최신 Wi-Fi는 **5GHz/6GHz** 등 혼잡이 덜한 대역을 사용한다.

**다중 경로 전파(Multipath Propagation)**

- 무선 신호가 벽·지면에 반사되며 **여러 경로로 도착**하는 현상.
- 수신 신호가 흐릿해지고 속도가 불안정해질 수 있음.
- Wi-Fi에서는 이 문제를 OFDM(직교 주파수 분할)을 통해 완화함.

### 무선 링크의 오류 특성

**비트 오류 증가**

- 장애물, 간섭, 반사 때문에 **무선은 유선보다 비트 오류가 훨씬 더 잦다**.
- 그래서 Wi-Fi(802.11)은
    
    **강력한 CRC**, **링크 레벨 재전송(ARQ)** 을 사용해 오류 복구를 수행한다.
    

### 숨은 터미널 문제(Hidden Terminal Problem)

- A와 C는 서로 보이지 않지만
    
    **둘 모두 B로 송신하면 B에서는 간섭이 발생**.
    
- 하지만 A와 C는 서로를 못 보므로 충돌을 피하지 못함.
- Wi-Fi는 이 문제를 해결하기 위해 RTS/CTS 기법 등을 제공.

### 페이딩(Fading)

- 특정 위치나 순간에 신호가 갑자기 약해지는 현상.
- 반사/굴절/환경 변화로 생김.
- 이동 환경(스마트폰, 차량)에서 흔함.

### CDMA (Code Division Multiple Access)

**핵심 아이디어**

- 시간이나 주파수를 나누는 대신, **코드**를 나누어 동시에 전송.
- 각 송신자에게 “고유한 코드”를 부여하고
    
    수신자가 해당 코드를 이용해 신호를 추출함.
    

**장점**

- 여러 송신자가 동시에 송신해도 수학적으로 분리 가능.
- 셀룰러 통신(3G), 일부 무선 네트워크에서 활용됨.
---
## 7.3 와이파이: 802.11 무선 LAN

### 802.11의 핵심 개념

- 가장 널리 쓰이는 **무선 LAN 표준(Wi-Fi)**
- 802.11b/g/n/ac/ax 등 다양한 세대 존재
- **모두 CSMA/CA 기반의 무선 매체 접근** 사용
- **2.4GHz / 5GHz** 대역 사용
- 신호는 매우 불안정하며(간섭·페이딩), 이더넷과 달리 충돌검출 불가능 → **충돌회피 방식 필요**

### 802.11 구조 핵심

**BSS(Basic Service Set)**

- AP + 여러 무선 스테이션
- 가정·회사 Wi-Fi 환경은 대부분 인프라 모드(BSS + AP)

**AP와 결합(Association)**

무선 스테이션이 네트워크를 쓰려면 **반드시 하나의 AP와 결합**해야 한다.

- AP는 정기적으로 **Beacon Frame** 송출 (SSID, MAC 주소 포함)
- 스테이션은 Beacon을 기반으로 결합할 AP 선택
    
    (수동 스캐닝: Beacon 듣기 / 능동 스캐닝: Probe 요청 보내기)
    

결합 후 스테이션은 DHCP를 통해 **해당 AP 서브넷의 IP**를 받는다.

**애드혹(Ad-hoc)**

AP 없이 스테이션끼리 연결되는 모드. 실제 사용 거의 없음.

### 802.11 MAC 프로토콜

**핵심 차이: CSMA/CD가 아니라 CSMA/CA**

이유:

1. 송신 신호가 너무 강해 충돌을 **수신으로 감지 불가**
2. 숨은 터미널 문제·페이딩 때문에 충돌 검출 자체가 불가능

결과:

- 802.11은 **충돌 검출이 아니라 ‘충돌 회피’** 수행
- Backoff → 채널 모니터링 → 카운트다운 → 전송 → ACK

**프레임 손실 처리**

유선과 달리 손실·에러 흔함 →

**링크 계층에서 자체 ACK + 재전송(ARQ)** 수행

(이는 TCP ACK와는 별개의, 링크 계층 전용 ACK)

**숨은 터미널 문제 해결: RTS/CTS**

- 긴 DATA 프레임 전송 전에 RTS→CTS로 짧게 예약
- 다른 스테이션은 해당 시간 동안 전송 금지
- 충돌 범위를 “짧은 제어 프레임”으로 축소

### 802.11 프레임 구조

**큰 차이점: 4개의 MAC 주소**

802.11은 무선 ↔ 유선 연동 때문에

**출발지·목적지·AP·라우터 인터페이스** 등 다양한 주소 필요.

예)

- Address 1: 최종 수신자 (스테이션 또는 AP)
- Address 2: 프레임 송신자
- Address 3: 라우터 인터페이스 주소
- Address 4: 애드혹 모드에서 사용

**CRC**

유선보다 오류 많기 때문에 32bit CRC로 오류 검출.

### 이동성(Mobility) – 같은 서브넷 내 이동

- 여러 AP가 동일 서브넷(BSS 여러 개)일 수 있음
- 스테이션은 AP1 → AP2 이동 시 **IP 주소 그대로 유지 가능**
- 스위치는 AP2가 H1을 다시 학습하도록 **H1 출발지 프레임을 브로드캐스트**하여 포워딩 테이블 갱신

→ TCP 세션이 끊기지 않고 유지됨.

**다른 서브넷으로 이동하면?**

- IP 바뀜 → 원칙적으로 TCP 연결 끊김
    
    → Mobile IP 같은 상위 기술 필요
    

### 블루투스(PAN)

- 2.4GHz ISM 대역
- TDM 방식 + FHSS(주파수 도약)
- 인프라 없는 **애드혹 기반 피코넷(최대 8 활성 장치)**
- 중앙 장치(마스터)가 폴링으로 통신 관리
- Wi-Fi와 동일한 계층이지만 **용도와 프로토콜 완전히 다름**

---
## 7.4 셀룰러 네트워크: 4G, 5G

### 셀룰러 네트워크 개요

- 셀룰러 네트워크는 넓은 지역을 여러 **셀(cell)** 로 나누고, 각 셀마다 **기지국(Base Station)** 이 존재한다.
- 이동 장치(스마트폰 등)는 가까운 기지국과 무선으로 통신하여 통신사업자 네트워크(core network)까지 연결된다.
- 셀의 크기와 범위는 전파 세기, 장애물, 기지국 안테나 높이 등으로 결정된다.

핵심 구조

- **UE (User Equipment)**: 스마트폰, IoT 등
- **기지국(eNB)**: 무선 채널 관리, 스케줄링, 핸드오버
- **코어 네트워크**: 인증, 이동성 관리, 인터넷 연결

### 4G LTE 네트워크 구조

**주요 구성 요소**

**UE (User Equipment)**

- 스마트폰/태블릿 등.
- IP 주소를 할당받는 네트워크 종단 장치.
- SIM 카드 내 **IMSI** 로 가입자 식별.

**기지국 (eNodeB)**

- 무선 자원 관리, 단말 접속 처리.
- 단말 이동 시 핸드오버 처리.

**MME (Mobility Management Entity)**

- **제어 평면**의 핵심.
- 단말 인증(HSS와 연동), 위치 추적, 기지국 간 이동 관리.
- 실제 데이터그램 포워딩 경로에는 등장하지 않음.

**HSS (Home Subscriber Server)**

- 가입자 정보·인증 키 저장 DB.

S-GW / P-GW

- **S-GW**: 단말이 이동해도 데이터 경로를 유지하는 중간 게이트웨이
- **P-GW**:
    - 단말에 IP 주소(NAT 포함) 제공
    - 외부 인터넷과 연결되는 주 게이트웨이

**데이터 경로(터널링)**

- 단말 ↔ 기지국 ↔ S-GW ↔ P-GW까지 **GTP 터널**로 연결
- 터널 ID(TEID)를 사용하여 각 흐름을 분리
- 기지국이 터널 안에 UDP 캡슐화하여 S-GW/P-GW로 전달

### LTE 프로토콜 스택 (링크 계층)

LTE 무선 구간은 3개의 서브 계층으로 구성된다.

**PDCP (Packet Data Convergence Protocol)**

- IP 헤더 압축
- 무선 구간 암호화/복호화 수행

**RLC (Radio Link Control)**

- IP 데이터그램 단편화/재조립
- ARQ 기반 재전송(신뢰성 제공)

**MAC (Medium Access Control)**

- 무선 자원 스케줄링
- FEC(Forward Error Correction) 사용

**OFDM 무선 프레임 구조**

- LTE는 **주파수 × 시간 슬롯**을 조합한 OFDM 사용
- 시간 슬롯 단위(0.5ms)로 스케줄링하여 단말마다 다른 비트율 제공
- 슬롯 재할당은 ms 단위로 변경 가능 → 빠른 적응성

### 접속 절차 & 전력 관리

**1) 네트워크 접속 절차**

1. **기지국 신호 탐색**
    
    기본·보조 동기화 신호로 셀 정보 획득
    
2. **상호 인증**
    
    MME ↔ HSS ↔ 단말 간 인증 수행
    
3. **PDN 경로 설정**
    
    MME가 단말~기지국~S-GW~P-GW 사이 터널 생성
    

**2) 전력 관리 (Sleep)**

- **DRX(Discontinuous Reception)**
    - ‘약한 수면’, 주기적 wake-up
    - 배터리 절약 + 내려오는 패킷 감지
- **Idle State**
    - 깊은 수면
    - 셀 이동 시 기지국에 알리지 않음
    - MME가 paging으로 단말 깨움

### 5G 네트워크

**목표**

- 4G 대비:
    - 10배 높은 속도
    - 10배 낮은 지연
    - 100배 트래픽 처리량
    - 초고밀도 단말 지원(IoT 포함)

**주파수 대역**

- FR1: 450 MHz ~ 6 GHz
- FR2: 24~52 GHz (밀리미터파)
    - 장점: 큰 스펙트럼 → 고속
    - 단점: 거리 짧고 장애물에 약함 → 스몰셀 필요

**5G 주요 서비스 모델**

- **eMBB**: 고속 모바일 브로드밴드
- **URLLC**: 초저지연(1ms), 자율주행/산업 자동화
- **mMTC**: 대량 IoT 연결

**기술 요소**

- Massive MIMO
- Beamforming
- 스몰셀 기반 고밀도 셀 구조

**5G 코어 네트워크 (Service-based Architecture)**

- **UPF(User Plane Function)**
    - 데이터 평면 기능
    - 엣지로 분산 가능 → 지연 감소
- **AMF(Access & Mobility Management Function)**
    - 접속·인증·이동성 관리
- **SMF(Session Management Function)**
    - 세션/터널 관리, IP 주소 관리

4G의 MME/S-GW/P-GW 역할을 분리·가상화하여 구성한 구조.

---
## 7.5 이동성 관리: 원칙 (Principles of Mobility Management)

### 장치 이동성: 네트워크 계층 관점

**핵심 개념**

- **이동성(mobility)**: 장치가 **시간에 따라 네트워크 접속점을 바꾸는 것**.
- 네트워크 관점에서는 “장치가 이동하더라도 연결(TCP 세션 등)을 유지할 수 있는가?”가 핵심 문제.

**이동성의 네 가지 단계(스펙트럼)**

1. **네트워크 간 이동하지만 전원을 끈 상태**
    - 네트워크 관점에서는 이동성이 아님.
2. **하나의 무선 네트워크 내부에서 이동**
    - 같은 AP 또는 기지국에 계속 연결 → 이동성 이슈 없음.
3. **연결을 유지하며 같은 사업자 네트워크 내에서 이동 (실제 Mobility 시작)**
    - AP/기지국 간 **핸드오버(handover)** 필요.
    - TCP 연결 유지 위해 네트워크가 상태를 넘겨야 함.
4. **연결을 유지하며 다른 사업자 네트워크로 이동 (로밍)**
    - 더 복잡한 핸드오버, 인증·과금·주소 관리 필요.

핵심: **네트워크가 이동 장치의 위치를 지속적으로 추적하고 핸드오버를 제공해야 한다.**

### 홈 네트워크와 방문 네트워크 (로밍)

**개념**

- 셀룰러 장치는 **홈 네트워크(Home Network)** 를 가지고 있고,
- 다른 통신사 영역에 접속하면 **방문 네트워크(Visited Network)** 에서 로밍 상태가 됨.

**홈 네트워크의 역할**

- 장치의 식별자(IMSI, 영구 IP 등), 권한, 과금 정보를 저장.
- 방문 네트워크가 장치 위치를 홈 네트워크에 등록하면,
    
    홈 네트워크는 장치가 **어느 네트워크에 있는지 추적**할 수 있음.
    

핵심: **장치의 영구적인 정체성은 홈 네트워크가 관리하고, 위치는 방문 네트워크에서 동적으로 등록한다.**

### 이동 장치로의 라우팅: 세 가지 접근

네트워크가 “현재 이동 장치가 어디 있는지” 알아야 패킷을 전달할 수 있음.

세 가지 방식 중 실제로는 **간접 라우팅, 직접 라우팅**이 사용됨.

**1) 기존 IP 주소 인프라 활용 (비현실적)**

- 방문 네트워크가 장치의 IP를 직접 광고(BGP)해서,
    
    인터넷 전체가 그 장치의 위치를 알게 하는 방식.
    
- 확장성 문제가 너무 커서 실제로는 사용하지 않음.

핵심 문제: **수십억 장치의 위치를 전 세계 BGP로 광고하는 것은 불가능.**

**2) 간접 라우팅 (Indirect Routing, 가장 널리 사용된 개념)**

핵심 생각:

**패킷을 항상 홈 네트워크로 먼저 보낸 뒤,
홈 네트워크가 현재 장치가 있는 방문 네트워크로 다시 전달한다.**

과정 요약:

1. 통신자는 그냥 “장치의 영구 주소(예: 홈 IP)”로 보냄.
2. 홈 네트워크 게이트웨이가 패킷을 가로챔.
3. HSS에게 “지금 장치 어디 있어?”를 묻고,
4. **방문 네트워크 게이트웨이로 터널링**
5. 방문 네트워크에서 이동 장치에게 전달.

장점

- 통신자가 이동성 존재를 전혀 알 필요가 없음. (투명성)

단점

- **삼각 라우팅 문제**:
    
    통신자 → 홈 네트워크 → 방문 네트워크 → 장치
    
    그래서 비효율적.
    

핵심: **“홈 네트워크가 항상 중간에 한 번 끼어든다.”**

**3) 직접 라우팅 (Direct Routing)**

핵심 생각:

**통신자가 장치가 있는 방문 네트워크를 직접 찾아 내서 바로 터널링한다.**

과정 요약:

1. 통신자가 첫 메시지를 보내기 전에 홈 네트워크(HSS)에 “장치 어디 있어?”라고 묻고,
2. 방문 네트워크 주소를 얻은 뒤,
3. 그쪽으로 직접 패킷 터널링.

장점

- 삼각 경로 문제 해결 → 더 짧은 경로

문제

- 장치가 또 이동하면 매번 통신자에게 “새 방문 네트워크”를 알려줘야 함.
- 이를 위한 별도 “위치 업데이트 프로토콜” 필요.

핵심: **더 빠르지만 훨씬 복잡한 방식.**

---
## 7.6 실전에서의 이동성 관리 (Mobility Management in Practice)

### 4G/5G 네트워크에서의 이동성 관리

**개념 요약**

- 4G/5G는 이동 장치가 **기지국 셀 간 이동하더라도 연결(IP 세션)을 유지**하도록 설계됨.
- 이동성을 유지하기 위해 네트워크는
    
    **(1) 제어 평면에서 장치 위치를 추적하고**,
    
    **(2) 데이터 평면에서 터널 기반 포워딩 경로를 유지**함.
    
- 핵심 구성 요소:
    
    **기지국(eNodeB/gNodeB), MME(4G)/AMF(5G), 서빙 게이트웨이(S-GW), PDN 게이트웨이(P-GW), HSS/UDM**
    

**1) 기지국 결합 (Association)**

- 스마트폰은 주변 기지국 신호를 스캔해서 가장 적합한 기지국을 선택.
- 기지국과 제어 채널을 설정하면서, 단말 식별자(IMSI) 등을 네트워크에 제공.
- 이 과정 후 단말은 방문 네트워크에 “등록”된 상태가 됨.

**2) 제어 평면 구성 (Control-Plane Setup)**

- 기지국은 MME(4G) 또는 AMF(5G)에 단말 정보를 전달.
- MME/AMF는:
    - 홈 네트워크의 HSS(혹은 UDM)에서 단말 인증·가입정보 확인
    - 단말이 현재 “어느 방문 네트워크에 있는지” 기록 갱신
- 제어 평면 상태가 설정되면 이후 **데이터 평면 터널 구성**이 가능해짐.

**3) 데이터 평면 터널 구성 (User-Plane Setup)**

- 모바일 장치의 모든 IP 트래픽은 **터널(GTP)** 을 통해 전달됨.
- 터널 구성:
    1. 단말 ↔ 기지국
    2. 기지국 ↔ 서빙 게이트웨이(S-GW)
    3. S-GW ↔ PDN 게이트웨이(P-GW, 홈 네트워크)
- 이 구조는 **간접 라우팅(indirect routing)** 개념과 동일한 형태.
- P-GW가 사실상 “단말의 고정 관문(퍼머넌트 홈)” 역할.

핵심 포인트

→ 단말이 이동해도, 트래픽은 항상 홈 P-GW를 통해 흐름

→ IP 주소는 고정된 채로, 위치만 터널로 바뀜

4) 셀 간 핸드오버 (Handover)

핸드오버는 단말이 새로운 기지국으로 전환할 때 발생.

핵심 흐름:

1. 단말이 주변 기지국 신호를 측정해 변화 보고
2. 기존 기지국이 “핸드오버 타깃 기지국” 선택
3. 타깃 기지국이 자원을 예약하고 승인 메시지 전송
4. 단말이 새 기지국으로 연결 전환 (단말 관점에서는 이 시점이 핸드오버 완료)
5. 네트워크는 기존 기지국 → 새 기지국으로 터널 경로를 업데이트
6. 기존 기지국은 남은 버퍼를 새 기지국으로 전달(데이터 손실 방지)
7. 터널이 완전히 전환되면 기존 기지국은 단말 관련 자원 해제

핵심

→ 핸드오버 동안 IP 세션이 끊기지 않도록 **터널 경로**와 **자원 재할당**을 자동 수행한다.

### 이동 IP (Mobile IP)

**개념 요약**

- 인터넷에는 4G/5G처럼 “이동성을 기본 지원하는 표준 인프라”가 없음.
- 이를 해결하려고 제안된 게 **Mobile IP**.
- Mobile IP는 이동 장치가 **“영구 IP 주소는 그대로 유지하면서, 다른 네트워크에서 접속할 수 있게”** 하는 구조.

**Mobile IP의 핵심 구성 요소**

1. **홈 에이전트(Home Agent)**
    - 장치의 “영구 주소”를 대표함
    - 장치가 어디에 있든 패킷을 받아서 전달
2. **케어 오브 주소(Care-of Address, COA)**
    - 방문 네트워크에서 단말이 임시로 부여받는 주소
    - 현재 위치 정보 역할
3. **외부 에이전트(Foreign Agent)**
    - 방문 네트워크에서 단말의 COA 제공 및 등록 지원
        
        (현대 시스템에서는 단말이 자체 COA 사용)
        

**Mobile IP 동작 원리**

**1) 에이전트 발견(Agent Discovery)**

- 외부 에이전트는 “우리 네트워크에서 서비스 가능”을 브로드캐스트
- 이동 장치는 COA를 얻음

**2) 홈 에이전트 등록 (Registration)**

- 단말/외부 에이전트가 홈 에이전트에게
    
    “지금 내가 여기(COA)에 있음”이라고 알림
    

**3) 간접 라우팅 (Indirect Routing)**

- 통신자가 보내는 패킷은 **항상 단말의 홈 주소**로 도착
- 홈 에이전트가 패킷을 COA로 **터널링**해서 전달
- Mobile IP가 4G/5G의 P-GW 기반 터널 구조와 매우 유사한 이유

**Mobile IP의 의미**

- 인터넷에 “기지국/핸드오버 개념 없이도 이동성 제공”을 목표로 했던 기술.
- 하지만 복잡성·보안 문제 등으로 널리 사용되진 않음.
- 오늘날 실제 이동성은 **셀룰러 네트워크가 자체적으로 처리**,
    
    인터넷은 그 위에 그대로 사용되는 구조.
    

---
## 7.7 무선과 이동성: 상위 계층 프로토콜에의 영향

### 무선/이동성이 상위 계층에 미치는 영향 개요

- 지금까지 링크 계층(페이딩, 간섭, 숨은 터미널), 네트워크 계층(핸드오버, 이동성 관리)이
    
    **유선 네트워크와 크게 다르다**는 점을 배웠다.
    
- 그렇다면 **TCP·UDP 같은 트랜스포트 계층**,
    
    **웹·스트리밍 앱 같은 애플리케이션 계층**에도 영향이 있을까?
    

결론: **있다. 매우 크다.**

특히 TCP는 무선 환경에서 의도치 않게 성능이 심하게 나빠질 수 있다.

### 트랜스포트 계층: TCP의 문제점

**TCP는 손실 원인을 구분하지 못함**

TCP 송신자는 **손실 = 혼잡** 으로 가정한다.

따라서 손실이 발생하면 항상:

- cwnd 감소
- 송신 속도 감소
- 타이머 기반 재전송

하지만 무선 환경에서는 손실 대부분이 **혼잡이 아니라** 다음과 같은 이유로 발생한다:

1. **무선 채널 비트 오류 (BER)**
2. **페이딩, 간섭**
3. **핸드오버 중 지연**
4. **AP 또는 기지국 전환 과정에서 일시적 단절**

즉, 무선 환경에서는 **혼잡도 아닌데 TCP는 혼잡이라고 착각**하고

송신 속도를 필요 이상으로 줄여 버린다.

→ 결과적으로 **TCP 성능 저하**, RTT 증가, 전송률 제한.

### 무선에서 TCP 성능을 개선하는 세 가지 접근

**1) 지역 복구(Local Recovery)**

- 무선 링크에서 손실이 발생하면, **무선 구간에서 자체적으로 복구**하는 방식.
- 예: 802.11의 ARQ, ARQ+FEC 조합
- 장점: TCP 송신자가 불필요하게 혼잡 제어를 실행하지 않음
- 단점: TCP는 “무선 링크가 있었는지” 전혀 모름

핵심: **무선 구간 자체에서 오류를 감춰버림**

**2) TCP 송신자가 무선 링크를 인지하도록 함**

무선 링크에서 발생한 손실과

유선 구간에서 발생한 실제 혼잡 손실을 **구별**하도록 하는 방식.

예:

- 수신측 또는 AP가 특별한 ACK/신호를 보내
    
    “이건 혼잡이 아닙니다” 를 알림.
    
- 그러면 TCP 송신자는 cwnd를 줄이지 않고 계속 전송 가능.

핵심: **무선 손실과 혼잡 손실을 구분하게 만든다**

**3) 연결 분리(Split-Connection)**

- 종단 간 연결을 두 개로 나누는 방식:
    1. 무선 구간: 단말 ↔ AP
    2. 유선 구간: AP ↔ 서버

효과:

- 무선 구간 최적화 가능 (ARQ 기반 고신뢰 전송)
- 서버는 무선 상황을 신경 쓸 필요 없음
- 많은 셀룰러 시스템에서 실제로 사용되는 방식

핵심: **무선 구간은 별도로 처리해 TCP의 약점을 보완**

### 애플리케이션 계층에 미치는 영향

**무선 환경이 애플리케이션에 주는 제약**

- 무선 링크의 대역폭은 유선보다 **훨씬 제한적**
- 전파 특성 때문에 순간적인 지연·손실이 자주 발생
- 핸드오버 시 잠깐 연결이 불안정할 수 있음

결과적으로:

- **스트리밍 서비스**는 버퍼링과 비트레이트 적응(HLS, DASH) 필수
- **VoIP·화상회의**는 패킷 손실에 강한 코덱 필요 (FEC 내장)
- **모바일 앱**은 이동성 기반 기능(위치 기반 서비스 등)을 활용할 수 있음

핵심:

**무선은 대역폭도 적고 안정성도 낮기 때문에 애플리케이션 설계가 유선과 다르다.**

하지만 이동성이라는 장점 덕분에 완전히 새로운 앱이 가능해졌다.
