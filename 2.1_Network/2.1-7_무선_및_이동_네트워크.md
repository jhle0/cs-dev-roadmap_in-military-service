# 2.1-7 무선 및 이동 네트워크

---

## 7.1 무선 네트워크 개요

### 무선 네트워크의 구성 요소

무선 네트워크는 **무선 호스트**, **무선 링크**, **기지국**, **네트워크 인프라스트럭처**로 구성된다.

이들은 유선 네트워크의 전송 계층 위에 존재하며, 데이터의 송수신을 위한 무선 통신 환경을 형성한다.

### 무선 호스트 (Wireless Host)

- **애플리케이션을 실행하는 종단 시스템**으로, 스마트폰·태블릿·노트북·IoT 기기 등이 포함된다.
- 주로 **무선 링크**를 통해 기지국(Base Station)이나 다른 무선 호스트와 통신한다.

### 무선 링크 (Wireless Link)

- 무선 호스트를 **네트워크 인프라스트럭처 또는 다른 호스트**에 연결하는 통신 경로.
- 네트워크의 가장자리(Access Network)뿐 아니라 일부 백본 링크에서도 사용된다.
- 링크 품질은 **전송 거리, 장애물, 간섭, 전력 수준** 등에 따라 달라진다.

### 기지국 (Base Station)

- **무선 호스트와 데이터 송수신을 중재**하는 역할을 수행한다.
- 예시:
    - 셀룰러 네트워크의 **셀 타워(cell tower)**
    - Wi-Fi 네트워크의 **액세스 포인트(AP, Access Point)**
- 기지국에 **결합(association)** 된다는 것은
    1. 해당 기지국의 무선 통신 범위 내에 존재하고
    2. 기지국을 통해 네트워크와 데이터를 주고받는다는 의미이다.

### 인프라스트럭처 기반 네트워크

- 무선 호스트가 **기지국을 통해 인터넷과 연결**되는 방식.
- 주소 할당, 라우팅, DNS 등의 서비스를 기지국이 중계한다.
- Wi-Fi, LTE, 5G 등이 모두 인프라스트럭처 기반이다.

### 애드혹 네트워크 (Ad Hoc Network)

- **기지국 없이** 호스트 간에 직접 연결하는 네트워크.
- 각 호스트가 **라우팅, 주소 관리, 이름 변환** 등의 기능을 스스로 수행해야 한다.
- 예시: 군용 통신망, 재난 복구 통신망, 차량 간 통신(VANET) 등.

### 핸드오프 (Handoff, Handover)

- **이동 호스트가 한 기지국의 범위를 벗어나 다른 기지국으로 이동**할 때,
    
    네트워크 연결 지점을 변경하는 절차.
    
- 셀룰러 네트워크에서는 **핸드오버**가 자동으로 수행되어,
    
    통화나 데이터 세션이 끊기지 않도록 한다.
    

### 무선 네트워크의 분류

무선 네트워크는 다음 두 가지 기준으로 나눌 수 있다.

1. **통신 홉 수 (단일 홉 / 다중 홉)**
2. **인프라스트럭처 존재 여부 (있음 / 없음)**

**단일 홉 + 인프라스트럭처 존재**

- 유선 백본에 연결된 기지국을 중심으로 모든 통신이 **기지국–호스트 간 단일 홉**으로 이루어짐.
- 예시: Wi-Fi, LTE

**단일 홉 + 인프라스트럭처 없음**

- 기지국 없이 호스트 간 직접 연결.
- 예시: 블루투스, 근거리 무선 주변기기 네트워크

**다중 홉 + 인프라스트럭처 존재**

- 일부 노드는 다른 노드를 **중계(relay)** 하여 기지국과 통신함.
- 예시: 무선 메시 네트워크(Wireless Mesh Network), 센서 네트워크

**다중 홉 + 인프라스트럭처 없음**

- 완전한 **자율 네트워크**로, 기지국 없이 모든 노드가 서로 중계 역할을 수행.
- 예시: 이동 애드혹 네트워크(MANET, Mobile Ad Hoc Network)

---
## 7.2 무선 링크와 네트워크의 특징

### 무선 환경의 기본 특성

**신호 감쇠와 경로 손실(Path Loss)**

- 무선 신호는 **거리 증가**, **장애물(벽·건물)**, **공간 확산** 때문에 자연스럽게 약해진다.
- 이 신호 감소를 **경로 손실(path loss)** 이라고 한다.
- 거리·환경에 따라 신호 품질이 크게 달라짐 → Wi-Fi나 셀룰러 신호가 방마다 다른 이유.

**간섭(Interference)**

- 같은 주파수 대역을 쓰는 여러 송신자의 신호는 **서로 간섭**한다.
- Wi-Fi 주변 전자레인지, 블루투스 등이 간섭을 만들 수 있다.
- 그래서 최신 Wi-Fi는 **5GHz/6GHz** 등 혼잡이 덜한 대역을 사용한다.

**다중 경로 전파(Multipath Propagation)**

- 무선 신호가 벽·지면에 반사되며 **여러 경로로 도착**하는 현상.
- 수신 신호가 흐릿해지고 속도가 불안정해질 수 있음.
- Wi-Fi에서는 이 문제를 OFDM(직교 주파수 분할)을 통해 완화함.

### 무선 링크의 오류 특성

**비트 오류 증가**

- 장애물, 간섭, 반사 때문에 **무선은 유선보다 비트 오류가 훨씬 더 잦다**.
- 그래서 Wi-Fi(802.11)은
    
    **강력한 CRC**, **링크 레벨 재전송(ARQ)** 을 사용해 오류 복구를 수행한다.
    

### 숨은 터미널 문제(Hidden Terminal Problem)

- A와 C는 서로 보이지 않지만
    
    **둘 모두 B로 송신하면 B에서는 간섭이 발생**.
    
- 하지만 A와 C는 서로를 못 보므로 충돌을 피하지 못함.
- Wi-Fi는 이 문제를 해결하기 위해 RTS/CTS 기법 등을 제공.

### 페이딩(Fading)

- 특정 위치나 순간에 신호가 갑자기 약해지는 현상.
- 반사/굴절/환경 변화로 생김.
- 이동 환경(스마트폰, 차량)에서 흔함.

### CDMA (Code Division Multiple Access)

**핵심 아이디어**

- 시간이나 주파수를 나누는 대신, **코드**를 나누어 동시에 전송.
- 각 송신자에게 “고유한 코드”를 부여하고
    
    수신자가 해당 코드를 이용해 신호를 추출함.
    

**장점**

- 여러 송신자가 동시에 송신해도 수학적으로 분리 가능.
- 셀룰러 통신(3G), 일부 무선 네트워크에서 활용됨.
---
## 7.3 와이파이: 802.11 무선 LAN

### 802.11의 핵심 개념

- 가장 널리 쓰이는 **무선 LAN 표준(Wi-Fi)**
- 802.11b/g/n/ac/ax 등 다양한 세대 존재
- **모두 CSMA/CA 기반의 무선 매체 접근** 사용
- **2.4GHz / 5GHz** 대역 사용
- 신호는 매우 불안정하며(간섭·페이딩), 이더넷과 달리 충돌검출 불가능 → **충돌회피 방식 필요**

### 802.11 구조 핵심

**BSS(Basic Service Set)**

- AP + 여러 무선 스테이션
- 가정·회사 Wi-Fi 환경은 대부분 인프라 모드(BSS + AP)

**AP와 결합(Association)**

무선 스테이션이 네트워크를 쓰려면 **반드시 하나의 AP와 결합**해야 한다.

- AP는 정기적으로 **Beacon Frame** 송출 (SSID, MAC 주소 포함)
- 스테이션은 Beacon을 기반으로 결합할 AP 선택
    
    (수동 스캐닝: Beacon 듣기 / 능동 스캐닝: Probe 요청 보내기)
    

결합 후 스테이션은 DHCP를 통해 **해당 AP 서브넷의 IP**를 받는다.

**애드혹(Ad-hoc)**

AP 없이 스테이션끼리 연결되는 모드. 실제 사용 거의 없음.

### 802.11 MAC 프로토콜

**핵심 차이: CSMA/CD가 아니라 CSMA/CA**

이유:

1. 송신 신호가 너무 강해 충돌을 **수신으로 감지 불가**
2. 숨은 터미널 문제·페이딩 때문에 충돌 검출 자체가 불가능

결과:

- 802.11은 **충돌 검출이 아니라 ‘충돌 회피’** 수행
- Backoff → 채널 모니터링 → 카운트다운 → 전송 → ACK

**프레임 손실 처리**

유선과 달리 손실·에러 흔함 →

**링크 계층에서 자체 ACK + 재전송(ARQ)** 수행

(이는 TCP ACK와는 별개의, 링크 계층 전용 ACK)

**숨은 터미널 문제 해결: RTS/CTS**

- 긴 DATA 프레임 전송 전에 RTS→CTS로 짧게 예약
- 다른 스테이션은 해당 시간 동안 전송 금지
- 충돌 범위를 “짧은 제어 프레임”으로 축소

### 802.11 프레임 구조

**큰 차이점: 4개의 MAC 주소**

802.11은 무선 ↔ 유선 연동 때문에

**출발지·목적지·AP·라우터 인터페이스** 등 다양한 주소 필요.

예)

- Address 1: 최종 수신자 (스테이션 또는 AP)
- Address 2: 프레임 송신자
- Address 3: 라우터 인터페이스 주소
- Address 4: 애드혹 모드에서 사용

**CRC**

유선보다 오류 많기 때문에 32bit CRC로 오류 검출.

### 이동성(Mobility) – 같은 서브넷 내 이동

- 여러 AP가 동일 서브넷(BSS 여러 개)일 수 있음
- 스테이션은 AP1 → AP2 이동 시 **IP 주소 그대로 유지 가능**
- 스위치는 AP2가 H1을 다시 학습하도록 **H1 출발지 프레임을 브로드캐스트**하여 포워딩 테이블 갱신

→ TCP 세션이 끊기지 않고 유지됨.

**다른 서브넷으로 이동하면?**

- IP 바뀜 → 원칙적으로 TCP 연결 끊김
    
    → Mobile IP 같은 상위 기술 필요
    

### 블루투스(PAN)

- 2.4GHz ISM 대역
- TDM 방식 + FHSS(주파수 도약)
- 인프라 없는 **애드혹 기반 피코넷(최대 8 활성 장치)**
- 중앙 장치(마스터)가 폴링으로 통신 관리
- Wi-Fi와 동일한 계층이지만 **용도와 프로토콜 완전히 다름**

---
