# 2.1-1. Network Overview & Performance Metrics

> Active recall
> 
> - Explain in one line why the Internet is called a **“network of networks.”**
> - Define in one line the roles of **Host (End System)**, **Link**, **Router**, and **ISP.**
> - Explain in one line the difference between **Circuit Switching** and **Packet Switching.**
> - Define in one line the network performance metrics: **Latency, Bandwidth, Throughput, Goodput, Packet Loss, Jitter.**
> - Compare **Bandwidth** and **Throughput** in one line.

---

## 1.1 Internet Structure

- **Host (End System):** An end device connected to the network (PC, smartphone, server, IoT device).
- **Link:** The communication path connecting hosts and network devices (wired: Ethernet/fiber, wireless: Wi-Fi/5G).
- **Router:** A device that forwards packets to other networks **based on destination IP addresses.**
- **ISP (Internet Service Provider):** Provides users with Internet connectivity (e.g., KT, SKT, Comcast).
- **Hierarchy:**
    - **Tier-1 ISP:** Operates global backbone networks.
    - **Tier-2 ISP:** National or regional providers.
    - **Tier-3 ISP:** Provides end-user access (e.g., home Internet).

→ The Internet is a **“network of networks.”**

---

## 1.2 Switching Techniques

- **Circuit Switching:** Like a phone call, reserves a **dedicated line** before transmission. Predictable delay/quality, but wasteful.
- **Packet Switching:** Splits data into **packets** that share resources on demand. (Foundation of the Internet)
- **Multiplexing →** A technique for carrying **multiple data flows over a single physical communication channel.**
    - **FDM (Frequency Division Multiplexing):** Divide frequency bands, transmit simultaneously (radio/analog).
    - **TDM (Time Division Multiplexing):** Divide time into slots, transmit sequentially (digital telephony).
    - **Statistical Multiplexing:** Share dynamically based on actual usage (core of packet switching).

→ The Internet is **packet-switching based.**

---

## 1.3 Network Performance Metrics

- **Latency:** Time for a packet to reach the destination (one-way).
    - **Transmission Delay:** Time to push the packet onto the link (= packet size ÷ link bandwidth).
    - **Propagation Delay:** Time for the signal to travel through the medium (= distance ÷ propagation speed).
    - **Processing Delay:** Time for routers/hosts to inspect headers, check errors, and make routing decisions.
    - **Queueing Delay:** Time waiting in a router’s buffer when the network is congested.
- **RTT (Round Trip Time):** Time for a packet to go to the destination and for the response to come back.
- **Bandwidth:** Maximum number of bits that can be transmitted per second (bps).
- **Throughput:** The actual measured transmission rate (affected by congestion and loss).
- **Goodput:** Portion of throughput that is **pure useful data (payload)**, excluding retransmissions, headers, and overhead.
    - Relationship: **Goodput ≤ Throughput ≤ Bandwidth**
- **Packet Loss:** Percentage of packets lost during transmission.
- **Jitter:** Variation in packet arrival times (critical for VoIP/video conferencing).

**→ Network performance is evaluated as a combination of Latency, Bandwidth, Packet Loss, and Jitter.**

---

## 1.4 QoS & Measurement (Quantifying Network Quality)

- **QoS Metrics:** Latency, Jitter, Packet Loss, Bandwidth.
- **Best-effort Model:** The public Internet does **not guarantee QoS.** Strong guarantees exist only on private networks/MPLS/5G slicing.
- **Measurement Tools/Metrics:**
    - **RTT:** Use `ping` to measure round-trip delay.
    - **Traceroute/mtr:** Shows the routers (hops) a packet passes through and delay per hop.
    - **p95/p99 Latency:** The 95th/99th percentile latency. **User experience is often determined by tail latency rather than the average.**

---

## 1.5 Key Point: End-to-End Principle

- **E2E Principle:** Network devices only perform “simple forwarding.” Reliability, encryption, and recovery are handled at the **end systems (hosts).**
- **Examples:** TCP (retransmission, ordering), TLS (encryption), HTTP (application logic).
- **What developers must handle:**
    - **Timeouts & Retries (with backoff):** Networks are lossy. Never wait forever; set timeouts and retry with exponential backoff (e.g., 1s → 2s → 4s).
    - **Goodput Optimization (Caching, Compression, HTTP improvements):**
        - Caching: Avoid redundant requests (images, CSS, JS).
        - Compression: Use Gzip or Brotli to reduce size.
        - Keep-alive/HTTP2·3: Reuse connections to reduce delay.
    - **Large Transfer Optimization:**
        - Chunk/Range Transfer: Send files in parts, support resume after interruption.
        - Resume Upload: Continue uploads from the last breakpoint (used in AWS S3, Google Drive).
